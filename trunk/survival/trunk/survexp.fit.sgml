<!doctype s-function-doc system "s-function-doc.dtd" [
<!entity % S-OLD "INCLUDE">
]
>
<s-function-doc>
<s-topics>
   <s-topic>survexp.fit</s-topic>
</s-topics>
<s-title>
Compute Expected Survival 
</s-title>
<s-description>
Compute expected survival times. 
</s-description>
<s-usage>
<s-old-style-usage>
survexp.fit(x, y, times, conditional, ratetable) 
</s-old-style-usage>
</s-usage>
<s-args-required>
<s-arg name="x">
a matrix. The first column contains the group, 
an integer value that divides the subjects into subsets. 
Remaining columns must match the dimensions of the <s-expression>ratetable</s-expression>, 
in the correct order. 
</s-arg>
<s-arg name="y">
the follow up time for each subject. 
</s-arg>
<s-arg name="times">
the vector of times at which a result will be computed. 
</s-arg>
<s-arg name="conditional">
a logical value, if <s-expression>TRUE</s-expression> the conditional survival is computed, 
if <s-expression>FALSE</s-expression> the cohort survival is computed. 
</s-arg>
<s-arg name="ratetable">
a rate table, such as <s-expression>survexp.uswhite</s-expression>. 
</s-arg>
</s-args-required>
<s-value>
A list containing the number of subjects and the expected survival(s) 
at each time point. 
If there are multiple groups, these will be 
matrices with one column per group. 
</s-value>
<s-details>
For conditional survival <s-expression>y</s-expression> must be the time of last follow-up or death for 
each subject. 
For cohort survival it must be the potential censoring time for 
each subject, ignoring death. 
<br><br>
For an exact estimate <s-expression>times</s-expression> should be a superset of <s-expression>y</s-expression>, so that each 
subject at risk is at risk for the entire sub-interval of time. 
For a large data set, however, this can use an inordinate amount of 
storage and/or compute time.  If the <s-expression>times</s-expression> spacing is more coarse than 
this, an actuarial approximation is used which should, however, be extremely 
accurate as long as all of the returned values are &gt; .99. 
<br><br>
For a subgroup of size 1 and <s-expression>times</s-expression> &gt; <s-expression>y</s-expression>, 
the conditional method reduces to exp(-h) where 
h is the expected cumulative hazard for the subject over his/her 
observation time.  This is used to compute individual expected survival. 
</s-details>
<s-section name=" WARNING">

Most users will call the higher level routine <s-expression>survexp</s-expression>. 
Consequently, this function has very few error checks on its input arguments. 
</s-section>
<s-see>
<s-function name="survexp.sgm">survexp</s-function>,  <s-function name="survexp.us.sgm">survexp.us</s-function>.   </s-see>
<s-keywords>
<s-keyword>survival4</s-keyword>
</s-keywords>
<s-docclass>
function
</s-docclass>
</s-function-doc>
