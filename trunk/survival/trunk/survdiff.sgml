<!doctype s-function-doc system "s-function-doc.dtd" [
<!entity % S-OLD "INCLUDE">
]
>
<s-function-doc>
<s-topics>
   <s-topic>survdiff</s-topic>
</s-topics>
<s-title>
Test Survival Curve Differences 
</s-title>
<s-description>
Test if there is a difference between two or more survival curves using 
the G-rho family of tests.  Or, test for a single curve against a known 
alternative. 
</s-description>
<s-usage>
<s-old-style-usage>
survdiff(formula, data, subset, na.action, rho=0) 
</s-old-style-usage>
</s-usage>
<s-args-required>
<s-arg name="formula">
a formula expression as for other survival models, of the form 
`Surv(time, status) ~ predictors'.  For a one-sample test, the predictors 
must consist of a single <s-expression>offset(sp)</s-expression> term, where <s-expression>sp</s-expression> is a vector giving the 
survival probability of each subject.  For a k-sample test, each unique 
combination of predictors defines a subgroup. 
A <s-expression>strata</s-expression> term may be used to produce a stratified test. 
To cause missing values in the predictors to be treated as a separate 
group, rather than being omitted, use the <s-expression>strata</s-expression> function with its 
<s-expression>na.group=T</s-expression> argument. 
</s-arg>
</s-args-required>
<s-args-optional>
<s-arg name="data">
an optional data frame in which to interpret the variables occurring in the 
formula. 
</s-arg>
<s-arg name="subset">
expression indicating which subset of the rows of data should be used in 
the fit.  This can be a logical vector (which is replicated to have 
length equal to the number of observations), a numeric vector indicating 
which observation numbers are to be included (or excluded if negative), 
or a character vector of row names to be included.  All observations are 
included by default. 
</s-arg>
<s-arg name="na.action">
a missing-data filter function.  This is applied to the <s-expression>model.frame</s-expression> after any 
subset argument has been used.  Default is <s-expression>options()$na.action</s-expression>. 
</s-arg>
<s-arg name="rho">
a scalar parameter that controls the type of test. 
</s-arg>
</s-args-optional>
<s-value>
a list with components: 
<s-return-component name="n">
the number of subjects in each group. 
</s-return-component>
<s-return-component name="obs">
the weighted observed number of events in each group. 
</s-return-component>
<s-return-component name="exp">
the weighted expected number of events in each group. 
</s-return-component>
<s-return-component name="chisq">
the chisquare statistic for a test of equality. 
</s-return-component>
<s-return-component name="var">
the variance matrix of the test. 
</s-return-component>
<s-return-component name="strata">
 optionally, the number of subjects contained in each stratum. 
</s-return-component>
</s-value>
<s-section name=" METHOD">

This function implements the G-rho family of 
Harrington and Fleming (1982), with weights on each death of (S(t))^rho, 
where S is the Kaplan-Meier estimate of survival. 
When <s-expression>rho = 0</s-expression> this is the log-rank or Mantel-Haenszel test, 
and when <s-expression>rho = 1</s-expression> it is equivalent to the Peto &#38; Peto modification 
of the Gehan-Wilcoxon test. 
<br><br>
If the right hand side of the formula consists only of an offset term, 
then a one sample test is done. 
To cause missing values in the predictors to be treated as a separate 
group, rather than being omitted, use the <s-expression>factor</s-expression> function with its 
<s-expression>exclude</s-expression> argument. 
</s-section>
<s-section name=" REFERENCE">

Harrington, D. P. and Fleming, T. R. (1982). 
A class of rank test procedures for censored survival data. 
<it>Biometrika</it>
<bf>69</bf>, 553-566. 
</s-section>
<s-examples>
<s-example type = text>
survdiff(Surv(time, status) ~ group, data=leukemia) 
</s-example>
</s-examples>
<s-keywords>
<s-keyword>survival4</s-keyword>
</s-keywords>
<s-docclass>
function
</s-docclass>
</s-function-doc>
