<!doctype s-function-doc system "s-function-doc.dtd" [
<!entity % S-OLD "INCLUDE">
]
>
<-- SCCS $Id: Surv.sgml,v 1.4 2001-07-13 15:22:42 therneau Exp $ -->
<s-function-doc>
<s-topics>
   <s-topic>Surv</s-topic>
   <s-topic>is.Surv</s-topic>
</s-topics>
<s-title>
Create a Survival Object 
</s-title>
<s-description>
Create a survival object, usually used as a response variable in a model 
formula. 
</s-description>
<s-usage>
<s-old-style-usage>
Surv(time, event) 
Surv(time, time2, event, type=&lt;&lt;see below&gt;&gt;, origin=0) 
is.Surv(x) 
</s-old-style-usage>
</s-usage>
<s-args-required>
<s-arg name="time">
for right censored data, this is the follow up time.  For interval data, the 
first argument is the starting time for the interval. 
</s-arg>
<s-arg name="x">
any S-PLUS object. 
</s-arg>
</s-args-required>
<s-args-optional>
<s-arg name="time2">
ending time of the interval for interval censored  or counting process  
data only.  
Intervals are 
assumed to be open on the left and closed on the right, (start, end]. 
For counting process data, 
<s-expression>event</s-expression> indicates whether an event 
occurred at the end of the interval. 
</s-arg>
<s-arg name="event">
status indicator, normally 0 = alive and 1 = dead.  Other choices are T/F 
(T = death) or 1/2 (2 = death). 
For interval censored data, the status indicator is 0 = right censored, 
1 = event at <s-expression>time</s-expression>, 2 = left censored, 
and 3 = interval censored. 
For left-censored data, the status indicator is T=uncensored, F=censored. 
Although unusual, the event indicator can be omitted, 
in which case all subjects are assumed to have an event. 
</s-arg>
<s-arg name="type">
character string specifying the type of censoring. Possible values 
are <s-expression>"right"</s-expression>, <s-expression>"left"</s-expression>,
<s-expression>"counting"</s-expression>, 
<s-expression>"interval"</s-expression>, 
or <s-expression>"interval2"</s-expression>. 
The default is <s-expression>"right"</s-expression> 
or <s-expression>"counting"</s-expression> 
depending on whether the <s-expression>time2</s-expression> 
argument is absent or present, respectively. 
</s-arg>
<s-arg name="origin">
vector or value to be subtracted from the time values.  
This option was intended for resetting the time origin in the case of
time-dependent strata, but has rarely proven to be useful.
</s-arg>
</s-args-optional>
<s-value>
in the case of <s-expression>Surv</s-expression>, a matrix of 2 or 3 
columns of class <s-expression>"Surv"</s-expression> 
containing <s-expression>time</s-expression>, 
<s-expression>time2</s-expression> (if provided), 
and <s-expression>status</s-expression>. 
<br><br>
In the case of <s-expression>is.Surv</s-expression>, 
a logical value <s-expression>T</s-expression> if 
<s-expression>x</s-expression> inherits from class 
<s-expression>"Surv"</s-expression>, 
otherwise an <s-expression>F</s-expression>. 
</s-value>
<s-section name=" SUBSCRIPTING">
Surv objects can be subscripted either as an object, e.g.
<s-expression>x[1:3]</s-expression> using a single subscript;
in which case the <s-expression>drop</s-expression> argument is ignored;
or as a matrix, using two arguments.
If the second subscript is missing and <s-expression>drop=F</s-expression>
(the default),
the result of the subscripting will be a Surv object, e.g., 
<s-expression>x[1:3,,drop=F]</s-expression>,
otherwise the result will be a matrix (or vector), in accordance with
the default behavior for subscripting matrices. 
</s-section>
<s-section name=" DETAILS">
In theory it is possible to represent interval censored data without a 
third column containing the explicit status.  Exact, right censored, 
left censored and interval censored observation would be represented as 
intervals of [a,a], [a, infinity), (-infinity,b], and [a,b)  
respectively; each interval is a pair of time points 
within which the event is  
known to have occurred. 
<br><br>
If <s-expression>type="interval2"</s-expression>, 
the representation given above is 
assumed, with <s-expression>NA</s-expression> taking the place of infinity.  
If <s-expression>type="interval"</s-expression>, 
<s-expression>event</s-expression> must be given.  
If <s-expression>event</s-expression> is <s-expression>0</s-expression>, 
<s-expression>1</s-expression>, or <s-expression>2</s-expression>, 
the relevant 
information is assumed to be contained in <s-expression>time</s-expression>, 
the value in <s-expression>time2</s-expression> 
is ignored, and the second column of the result contains a 
placeholder. 
<br><br>
Presently, the only methods allowing interval censored data are the 
parametric models computed by <s-expression>survreg</s-expression>,  
so the distinction between open and closed intervals 
is unimportant.   
The distinction is important for counting process data and 
the Cox model. 
<br><br>
The function tries to distinguish between the use of 0/1 and 1/2 coding for 
left and right censored data using 
<s-expression>if (max(status)==2)</s-expression>. 
If 1/2 coding is used and all the subjects are censored, it will 
guess wrong.  Use 0/1 coding in this case. 
</s-section>
<s-see>
<s-function name="coxph.sgm">coxph</s-function>,  
<s-function name="survfit.sgm">survfit</s-function>,  
<s-function name="survreg.sgm">survreg</s-function>.   
</s-see>
<s-examples>
<s-example type = text>
Surv(leukemia$time, leukemia$status) 
Surv(heart$start, heart$stop, heart$event) 
</s-example>
</s-examples>
<s-keywords>
<s-keyword>survival4</s-keyword>
</s-keywords>
<s-docclass>
function
</s-docclass>
</s-function-doc>
