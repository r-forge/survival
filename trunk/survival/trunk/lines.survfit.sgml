<!doctype s-function-doc system "s-function-doc.dtd" [
<!entity % S-OLD "INCLUDE">
]
>
<s-function-doc>
<s-topics>
   <s-topic>lines.survfit</s-topic>
</s-topics>
<s-title>
Add Lines to a Survival Plot 
</s-title>
<s-description>
Usually used to add the expected survival curve(s) to a Kaplan-Meier plot 
generated with <s-expression>plot.survfit</s-expression>. 
</s-description>
<s-usage>
<s-old-style-usage>
lines.survfit(x, type="s", mark=3, col=1, lty=1, lwd=1, mark.time=T, 
	xscale=1,  firstx=0, firsty=1, xmax, fun, conf.int=F,  ...) 
</s-old-style-usage>
</s-usage>
<s-args-required>
<s-arg name="x">
a survival object, generated from the <s-expression>survfit</s-expression> or <s-expression>survexp</s-expression> functions. 
</s-arg>
</s-args-required>
<s-args-optional>
<s-arg name="type">
the line type, as described in <s-expression>lines</s-expression>.  The default is a step function 
for <s-expression>survfit</s-expression> objects, and a connected line for <s-expression>survexp</s-expression> objects. 
</s-arg>
<s-arg name="mark, col, lty, lwd">
vectors giving the mark symbol, color, line type and line width for the 
added curves. 
</s-arg>
<s-arg name="mark.time">
controls the labeling of the curves.   
If <s-expression>FALSE</s-expression>, no labeling is done.   
If <s-expression>TRUE</s-expression>, then curves are marked at each censoring time.   
If <s-expression>mark.time</s-expression> is a numeric vector, then curves are marked at  
the specified time points. 
</s-arg>
<s-arg name="xscale">
a number used to divide the x values.  If time was originally in days, a 
value of 365.25 would give a plotted scale in years. 
</s-arg>
<s-arg name="firstx, firsty">
the starting point for the survival curves.  If either of these is set to 
<s-expression>NA</s-expression> or &lt; blank &gt; the plot will start at the first time point of the curve. 
</s-arg>
<s-arg name="xmax">
the maximum horizontal plot coordinate.     
This shortens the curve before plotting it, so unlike using the 
<s-expression>xlim</s-expression> graphical parameter, warning messages about out of bounds points are 
not generated. 
</s-arg>
<s-arg name="fun">
an arbitrary function defining a transformation of the survival curve. 
For example <s-expression>fun=log</s-expression> is an alternative way to draw a log-survival curve 
(but with the axis labeled with log(S) values). 
Four often used transformations can be specified with a character 
argument instead: "log" is the same as using the <s-expression>log=T</s-expression> option, 
"event" plots cumulative events (f(y) = 1-y), 
"cumhaz" plots the cumulative hazard function (f(y) = -log(y)) 
and "cloglog" creates a complimentary log-log survival plot  
(f(y) = log(-log(y) along with log scale for the x-axis). 
</s-arg>
<s-arg name="conf.int">
if <s-expression>TRUE</s-expression>, confidence bands for the curves are also plotted. 
If set to "only", then only the CI bands are plotted, and the curve 
itself is left off.   
This can be useful for fine control over the colors or line types of a plot. 
</s-arg>
</s-args-optional>
<s-value>
a list with components x and y, containing the coordinates of the 
last point on each of the curves (but not of the confidence limits). 
This may be useful for labeling. 
</s-value>
<s-side-effects>
one or more curves are added to the current plot. 
</s-side-effects>
<s-see>
<s-function name="lines.sgm">lines</s-function>,  <s-function name="par.sgm">par</s-function>,  <s-function name="plot.survfit.sgm">plot.survfit</s-function>,  <s-function name="survfit.sgm">survfit</s-function>,  <s-function name="survexp.sgm">survexp</s-function>.   </s-see>
<s-examples>
<s-example type = text>
# First select by "id" those elements with the greater value of "stop" 
hearta &lt;- by(heart, heart$id, function (x)x[x$stop==max(x$stop),]) 
# Make the resulting list into a data frame by rebinding its 
components 
hearta &lt;- do.call("rbind", hearta) 
# plot the fitted survival curves 
plot(survfit(Surv(stop, event) ~ surgery, data = hearta), lty = 1:2) 
# Add lines denoting the expected survival from National Rate Table 
lines(survexp (stop ~ surgery + ratetable(age = (age + 48) * 365.25, 
      sex = "male", year = year * 365.25), data = hearta), mark = "E",  
      mark.time = 1000, lty = 1:2, cex = 1.5) 
</s-example>
</s-examples>
<s-keywords>
<s-keyword>survival4</s-keyword>
</s-keywords>
<s-docclass>
function
</s-docclass>
</s-function-doc>
