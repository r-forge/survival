<!doctype s-function-doc system "s-function-doc.dtd" [
<!entity % S-OLD "INCLUDE">
]
>
<s-function-doc>
<s-topics>
   <s-topic>survobrien</s-topic>
</s-topics>
<s-title>
O<s-expression>Brien</s-expression>s Test for Association of a Single Variable with Survival 
</s-title>
<s-description>
Peter O<s-expression>Brien</s-expression>s test for association of a single variable with survival 
This test is proposed in Biometrics, June 1978. 
</s-description>
<s-usage>
<s-old-style-usage>
survobrien(formula, data) 
</s-old-style-usage>
</s-usage>
<s-args-required>
<s-arg name="formula">
a valid formula for a cox model, without time dependent covariates. 
</s-arg>
</s-args-required>
<s-args-optional>
<s-arg name="data">
a data frame. 
</s-arg>
</s-args-optional>
<s-value>
a new data frame.  The original time and status variables are removed, 
and have been replaced with <s-expression>start</s-expression>, <s-expression>stop</s-expression>, and <s-expression>event</s-expression>.  If a 
predictor variable is a factor or is protected with <s-expression>I()</s-expression>, it is 
retained as is.  Other predictor variables have been replaced with 
time-dependent logit scores. 
<br><br>
Because of the time dependent variables, the new data frame will have many 
more rows that the original data, approximately #rows * #deaths /2. 
</s-value>
<s-section name=" METHOD">

A time-dependent cox model can now be fit to the new data. 
The univariate statistic, as originally proposed, is equivalent to 
single variable score tests from the time-dependent model. 
This equivalence is the rationale for using the time dependent model as a 
multivariate extension of the original paper. 
<br><br>
In O<s-expression>Brien</s-expression>s method, the x variables are re-ranked at each death time.  A 
simpler method, proposed by Prentice, ranks the data only once at the 
start. The results are usually similar. 
</s-section>
<s-section name=" REFERENCES">

O'Brien, Peter, "A Nonparametric Test for Association with Censored Data", 
<it>Biometrics</it> 34: 243-250, 1978. 
</s-section>
<s-see>
<s-function name="survdiff.sgm">survdiff</s-function> </s-see>
<s-keywords>
<s-keyword>survival</s-keyword>
</s-keywords>
<s-examples>
<s-example type = text>
xx &lt;- survobrien(Surv(time, status) ~ age + factor(rx) + I(ecog.ps), 
			       data=fleming) 
coxph(Surv(start, stop, event) ~ age, data=xx) 
coxph(Surv(start, stop, event) ~ age + rx + ecog.ps, data=xx) 
</s-example>
</s-examples>
<s-docclass>
function
</s-docclass>
</s-function-doc>
